(()=>{var e={7226:(e,t,n)=>{e.exports=n.p+"images/C10.png"},7554:(e,t,n)=>{e.exports=n.p+"images/C2.png"},2348:(e,t,n)=>{e.exports=n.p+"images/C3.png"},8058:(e,t,n)=>{e.exports=n.p+"images/C4.png"},5873:(e,t,n)=>{e.exports=n.p+"images/C5.png"},2887:(e,t,n)=>{e.exports=n.p+"images/C6.png"},1032:(e,t,n)=>{e.exports=n.p+"images/C7.png"},5456:(e,t,n)=>{e.exports=n.p+"images/C8.png"},7222:(e,t,n)=>{e.exports=n.p+"images/C9.png"},6377:(e,t,n)=>{e.exports=n.p+"images/CA.png"},1666:(e,t,n)=>{e.exports=n.p+"images/CJ.png"},9217:(e,t,n)=>{e.exports=n.p+"images/CK.png"},4618:(e,t,n)=>{e.exports=n.p+"images/CQ.png"},7028:(e,t,n)=>{e.exports=n.p+"images/D10.png"},3049:(e,t,n)=>{e.exports=n.p+"images/D2.png"},890:(e,t,n)=>{e.exports=n.p+"images/D3.png"},3929:(e,t,n)=>{e.exports=n.p+"images/D4.png"},3724:(e,t,n)=>{e.exports=n.p+"images/D5.png"},4697:(e,t,n)=>{e.exports=n.p+"images/D6.png"},1255:(e,t,n)=>{e.exports=n.p+"images/D7.png"},4628:(e,t,n)=>{e.exports=n.p+"images/D8.png"},3864:(e,t,n)=>{e.exports=n.p+"images/D9.png"},4471:(e,t,n)=>{e.exports=n.p+"images/DA.png"},4034:(e,t,n)=>{e.exports=n.p+"images/DJ.png"},7674:(e,t,n)=>{e.exports=n.p+"images/DK.png"},9131:(e,t,n)=>{e.exports=n.p+"images/DQ.png"},6738:(e,t,n)=>{e.exports=n.p+"images/H10.png"},9932:(e,t,n)=>{e.exports=n.p+"images/H2.png"},393:(e,t,n)=>{e.exports=n.p+"images/H3.png"},1570:(e,t,n)=>{e.exports=n.p+"images/H4.png"},9246:(e,t,n)=>{e.exports=n.p+"images/H5.png"},2302:(e,t,n)=>{e.exports=n.p+"images/H6.png"},483:(e,t,n)=>{e.exports=n.p+"images/H7.png"},6550:(e,t,n)=>{e.exports=n.p+"images/H8.png"},5874:(e,t,n)=>{e.exports=n.p+"images/H9.png"},3687:(e,t,n)=>{e.exports=n.p+"images/HA.png"},2067:(e,t,n)=>{e.exports=n.p+"images/HJ.png"},740:(e,t,n)=>{e.exports=n.p+"images/HK.png"},4085:(e,t,n)=>{e.exports=n.p+"images/HQ.png"},7500:(e,t,n)=>{e.exports=n.p+"images/S10.png"},3497:(e,t,n)=>{e.exports=n.p+"images/S2.png"},7837:(e,t,n)=>{e.exports=n.p+"images/S3.png"},7980:(e,t,n)=>{e.exports=n.p+"images/S4.png"},8755:(e,t,n)=>{e.exports=n.p+"images/S5.png"},776:(e,t,n)=>{e.exports=n.p+"images/S6.png"},7535:(e,t,n)=>{e.exports=n.p+"images/S7.png"},810:(e,t,n)=>{e.exports=n.p+"images/S8.png"},7503:(e,t,n)=>{e.exports=n.p+"images/S9.png"},8637:(e,t,n)=>{e.exports=n.p+"images/SA.png"},4617:(e,t,n)=>{e.exports=n.p+"images/SJ.png"},2154:(e,t,n)=>{e.exports=n.p+"images/SK.png"},5270:(e,t,n)=>{e.exports=n.p+"images/SQ.png"},7872:(e,t,n)=>{var r={"./C10.png":7226,"./C2.png":7554,"./C3.png":2348,"./C4.png":8058,"./C5.png":5873,"./C6.png":2887,"./C7.png":1032,"./C8.png":5456,"./C9.png":7222,"./CA.png":6377,"./CJ.png":1666,"./CK.png":9217,"./CQ.png":4618,"./D10.png":7028,"./D2.png":3049,"./D3.png":890,"./D4.png":3929,"./D5.png":3724,"./D6.png":4697,"./D7.png":1255,"./D8.png":4628,"./D9.png":3864,"./DA.png":4471,"./DJ.png":4034,"./DK.png":7674,"./DQ.png":9131,"./H10.png":6738,"./H2.png":9932,"./H3.png":393,"./H4.png":1570,"./H5.png":9246,"./H6.png":2302,"./H7.png":483,"./H8.png":6550,"./H9.png":5874,"./HA.png":3687,"./HJ.png":2067,"./HK.png":740,"./HQ.png":4085,"./S10.png":7500,"./S2.png":3497,"./S3.png":7837,"./S4.png":7980,"./S5.png":8755,"./S6.png":776,"./S7.png":7535,"./S8.png":810,"./S9.png":7503,"./SA.png":8637,"./SJ.png":4617,"./SK.png":2154,"./SQ.png":5270};function a(e){var t=p(e);return n(t)}function p(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=p,e.exports=a,a.id=7872}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var p=t[r]={exports:{}};return e[r](p,p.exports,n),p.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";var e=Array(52).fill(0).map((function(e,t){return t+1})),t=function e(t){var n=Math.floor(8*Math.random());if(n<=3){if(t[n].length>=6)return e(t)}else if(t[n].length>=5)return e(t);return n},r=function(e){var t=function(e){var t="";switch(!0){case e>=1&&e<=13:t="S";break;case e>=14&&e<=26:t="H";break;case e>=27&&e<=39:t="D";break;default:t="C"}return"".concat(t+function(e){var t=e.toString(),n={0:"K",1:"A",12:"Q",11:"J"};return n.hasOwnProperty(t)?n[t]:t}(e%13))}(e),r=document.createElement("div"),a=new Image,p=n(7872)("./".concat(t,".png"));return a.src=p,r.appendChild(a),r.id=t,r.droppable=!0,r.classList.add("poker-card"),r},a=null,p=0,o=document.getElementById("time"),s=function(){p=0,clearInterval(a)},i=function(e){return e<10?"0"+e:e};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=[],d=[[1,2,3],[14,15,16],[27,28,29],[40,41,42]],l=[[],[],[],[],[],[],[],[]],u=[],m=[1,2,3,14,15,16,27,28,29,40,41,42],f=null,h=null,v=null,x=null,y=null,b=!0,C=document.getElementById("main-card"),N=document.getElementById("temp-card");(function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e})(e).map((function(e){if(!m.includes(e)){var n=t(l);l[n].push(e)}}));var S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.forEach((function(t,n){var a=document.createElement("div");a.id="card-col_".concat(n),a.classList.add("card-col"),t.forEach((function(p,o){var s=r(p);b||o!==t.length-1||(s.draggable=!0),a.appendChild(s),s.cardNumber=p,s.cardGroup=n,e?s.style.opacity="1":setTimeout((function(){s.style.opacity="1"}),o*n*30)})),C.appendChild(a)}))},D=function(){for(var e=document.getElementsByClassName("card-col"),t=function(t){for(var n=[],r=[],a=!1,p=e[t].childNodes,o=0;o<p.length-1;o++){var s=p[o].cardNumber%13!=0?p[o].cardNumber%13:13,i=p[o+1].cardNumber%13!=0?p[o+1].cardNumber%13:13,c=Math.ceil(p[o].cardNumber/13),g=Math.ceil(p[o+1].cardNumber/13);s===i+1&&g+c!==5&&g!==c?(a||(a=!0,r.push(p[o]),n.push([])),n[n.length-1].push(p[o+1])):a=!1,o===p.length-2&&r.length>0&&r.forEach((function(r,a){n[a].forEach((function(n){e[t].removeChild(n),r.appendChild(n)}))}))}},n=0;n<e.length;n++)t(n);E()},E=function(){for(var e=document.getElementsByClassName("card-col"),t=0;t<e.length;t++){for(var n={},r=e[t].childNodes,a=0;a<r.length;a++){r[a].style.top="".concat(40*a,"px");var p=r[a].childNodes;if(p.length>1)for(var o=1;o<p.length;o++)n[a]||(n[a]=0),n[a]++,p[o].style.top="".concat(40*o,"px")}var s=Object.keys(n),i=-40;if(s.length>0)for(var c=0;c<r.length;c++)c==Number(s[0])+1&&(i+=40*n[s[0]],delete n[s[0]]),i+=40,r[c].style.top="".concat(i,"px")}},H=function(){for(var e=document.getElementsByClassName("card-col"),t=0;t<e.length;t++)lastOne&&(lastOne.draggable=!0),lastOne.children.length>1&&(lastOne.children[lastOne.children.length-1].draggable=!0)};S(),Array.from(new Array(8)).forEach((function(e,t){var n,a,p=document.createElement("div");if(p.classList.add("card-top-zone"),p.droppable=!0,t<=3)p.classList.add("card-temp-zone"),p.id="card-temp-zone_".concat(t),p.cardGroup=t;else{var o=t%4;p.id="card-done-zone_".concat(o);var s=(n=d[o].slice(-1),a=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,p=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,p=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw p}}return n}}(n,a)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];p.setAttribute("data-cardGroup",o),p.classList.add("card-done-zone"),p.cardGroup=o;var i=null;s&&((i=r(s)).cardNumber=s,p.appendChild(i))}N.appendChild(p)})),D(),H();var A=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];f.parentNode.removeChild(f),f.draggable=t;var n="poker-card"===e.target.parentNode.className;n?e.target.parentNode.appendChild(f):e.target.appendChild(f),E()},w=document.getElementById("wrapper");w.addEventListener("dragstart",(function(e){b||(f=e.target,x=e.target.cardGroup,h=e.target.cardNumber,l[x].slice(-1))})),w.addEventListener("dragenter",(function(e){e.preventDefault(),e.target.cardNumber})),w.addEventListener("dragleave",(function(e){e.preventDefault()})),w.addEventListener("dragover",(function(e){e.preventDefault()})),w.addEventListener("drop",(function(e){if(e.preventDefault(),!b){var t=1===f.children.length,n=e.target.parentNode.className.includes("card-done-zone")||e.target.parentNode.parentNode.className.includes("card-done-zone"),r=e.target.parentNode.className.includes("card-temp-zone");if(y=e.target.cardGroup,v=e.target.cardNumber,e.target.className.includes("card-temp-zone")&&t)!function(e){g[y]||(k("toTemp"),l[x].pop(),g[y]=h,A(e),H())}(e);else if(!r){var a=Math.ceil(h/13),p=Math.ceil(v/13);if(e.target.className.includes("poker-card")&&n&&t)p===a&&v%13==h%13-1&&(y=e.target.parentNode.getAttribute("data-cardGroup")||e.target.parentNode.parentNode.getAttribute("data-cardGroup"),function(e){k("toSuccessDeck"),l[x].pop(),d[y].push(h),A(e,!1),H(),O()}(e));else{var o=v%13==h%13+1||v%13==0&&h%13==12;if(e.target.className.includes("poker-card")){var s=p!==a&&p+a!==5&&o;if(e.target.id.indexOf("card-temp-zone")>-1&&s)return void function(e){k("tempToMain"),g[x]=null,l[y].push(h),A(e),H()}();s&&function(e){k("toMain"),l[x].pop(),l[y].push(h),A(e),H()}(e)}}}}}),!1);var k=function(e){var t={from:x,to:y,cardNumber:h,action:e};u.push(t)},M=document.getElementById("play-btn");M.addEventListener("click",(function(){(b=!b)?(M.textContent="Play",s(),document.querySelector(".mask").style.display="block"):(M.textContent="Pause",a=setInterval((function(){if(p>900)return alert("時間到"),void s();p++;var e=Math.floor(Math.floor(p%3600)/60),t=p%60;o.textContent="".concat(i(e),":").concat(i(t))}),1e3),document.querySelector(".mask").style.display="none")}));document.querySelector(".fa-undo").addEventListener("click",(function(){if(0!==u.length){var e=u.pop();"toMain"===e.action?(l[e.to].pop(),l[e.from].push(e.cardNumber)):"toTemp"===e.action?(g[e.to]=null,l[e.from].push(e.cardNumber),t=e.to,document.getElementsByClassName("card-temp-zone")[t].innerHTML=""):"toSuccessDeck"===e.action?(d[e.to].pop(),l[e.from].push(e.cardNumber),function(e){var t=document.querySelector("#card-done-zone_".concat(e," poker-card"));t.removeChild(t.lastChild)}(e.to)):"tempToMain"===e.action&&(l[e.to].pop(),g[e.from]=e.cardNumber),C.innerHTML="",S(!0),D(),H()}else alert("已經沒有上一步！");var t}));var O=function(){52===d.reduce((function(e,t){return e+t.length}),0)&&(s(),alert("恭喜獲勝"))}})()})();